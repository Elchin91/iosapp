# üì± Telegram Bot Setup Guide

–ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å Telegram –±–æ—Ç–æ–º –∑–∞ 5 –º–∏–Ω—É—Ç!

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
iOS App ‚Üí Backend API ‚Üí Telegram Bot ‚Üí –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞: [@m10_support_bot](https://t.me/m10_support_bot) –∏–ª–∏ –ø–æ —Ç–æ–∫–µ–Ω—É
3. –ù–∞–∂–º–∏—Ç–µ `/start`
4. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à Chat ID - **—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!**

–ü—Ä–∏–º–µ—Ä:
```
Salam! üëã
Sizin Telegram ID: 123456789
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ backend

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `backend`:
```env
TELEGRAM_BOT_TOKEN=8445924679:AAEFxGjFjCjUg8coV7vNyvV8OimUN_jw3wA
ADMIN_CHAT_ID=123456789  # –í–∞—à Chat ID –∏–∑ —à–∞–≥–∞ 1
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
cd backend
pip install -r requirements_telegram.txt
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä:
```bash
python main_telegram.py
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –ù–∞–π–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
```bash
# Windows
ipconfig

# Mac/Linux
ifconfig | grep inet
```

2. –û–±–Ω–æ–≤–∏—Ç–µ `APIConfig.swift`:
```swift
static let baseURL = "http://192.168.1.100:8000/api/v1"  // –í–∞—à IP
static let useMockMode = false
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ!

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ AI —á–∞—Ç
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
4. –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –≤ Telegram!

## ü§ñ –ö–æ–º–∞–Ω–¥—ã Telegram –±–æ—Ç–∞

- `/start` - –ü–æ–ª—É—á–∏—Ç—å –≤–∞—à Chat ID
- `/help` - –ü–æ–º–æ—â—å
- `/status` - –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
- `/clear` - –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Å—Å–∏–∏

## üí¨ –ö–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

1. –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ iOS app, –ø—Ä–æ—Å—Ç–æ –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –Ω–µ–≥–æ (Reply)
2. –í–∞—à –æ—Ç–≤–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –±–æ—Ç —Ä–∞–±–æ—Ç–∞–ª –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ:

```bash
python telegram_bot.py
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã

Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –±–∞–∑–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –ø–æ–∫–∞ –≤—ã –Ω–µ –æ—Ç–≤–µ—Ç–∏—Ç–µ –≤ Telegram.

### –ù–µ—Å–∫–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ Chat ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:
```env
ADMIN_CHAT_IDS=123456789,987654321
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/
   - –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å `"telegram_configured": true`

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   http://localhost:8000/config/telegram

3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:
   http://localhost:8000/docs

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "ADMIN_CHAT_ID not set"
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/start` –≤ Telegram –±–æ—Ç–µ
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à Chat ID
- –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

### –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### iOS app –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP –∞–¥—Ä–µ—Å, –Ω–µ localhost
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤–∞–º –≤ Telegram!

### –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç—É
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å CRM

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–æ–æ–±—â–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –æ—á–∏—Å—Ç–∏—Ç –∏—Å—Ç–æ—Ä–∏—é)
- –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å webhook –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
